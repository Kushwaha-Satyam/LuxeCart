@model LuxeCart.Models.RegisterUser

@{
    ViewBag.Title = "User Detail";
    Layout = "~/Views/Shared/_UserPanelLayoutPage.cshtml";
}
<div class="container my-4">
    @*<h3 class="text-center mb-4">User Profile</h3>*@
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-primary text-white text-center">
                    <h5 class="mb-0">User Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <!-- User Profile Image -->
                        <div class="col-md-4 text-center">
                            <div class="mb-3">
                                <img src="@(string.IsNullOrEmpty(Model.ProfileImageUrl) ? "/Images/default-product.png" : Url.Content("~/UserImages/" + Model.ProfileImageUrl))"
                                     alt="User Profile"
                                     class="img-fluid rounded-circle border shadow-sm"
                                     style="width: 150px; height: 150px; object-fit: cover;"
                                     onerror="this.onerror=null; this.src='/Images/default-product.png';" />
                            </div>
                        </div>

                        <!-- User Details -->
                        <div class="col-md-8">
                            <dl class="row">
                                @*<dt class="col-sm-4 text-muted">User ID:</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.UserID)</dd>*@

                                <dt class="col-sm-4 text-muted">Name:</dt>
                                <dd class="col-sm-8">@Html.DisplayFor(model => model.FirstName) @Html.DisplayFor(model => model.LastName)</dd>

                                <dt class="col-sm-4 text-muted">Email:</dt>
                                <dd class="col-sm-8">@Html.DisplayFor(model => model.Email)</dd>

                                <dt class="col-sm-4 text-muted">Phone:</dt>
                                <dd class="col-sm-8">@Html.DisplayFor(model => model.PhoneNumber)</dd>

                                <dt class="col-sm-4 text-muted">Date of Birth:</dt>
                                <dd class="col-sm-8">@Html.DisplayFor(model => model.DateOfBirth)</dd>

                                <dt class="col-sm-4 text-muted">Gender:</dt>
                                <dd class="col-sm-8">@Html.DisplayFor(model => model.Gender)</dd>

                                <dt class="col-sm-4 text-muted">Role:</dt>
                                <dd class="col-sm-8">@Html.DisplayFor(model => model.Role)</dd>

                                <dt class="col-sm-4 text-muted">Created At:</dt>
                                <dd class="col-sm-8">
                                    @Model.CreatedAt
                                </dd>


                                <dt class="col-sm-4 text-muted">Terms Accepted:</dt>
                                <dd class="col-sm-8">
                                    @(Model.AcceptTerms ? "✔️ Yes" : "❌ No")
                                </dd>

                            </dl>
                        </div>
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-center gap-3">
                    <!-- Edit Button -->
                    <a href="@Url.Action("Edit", "UserPanel", new { id = Model.UserID })" class="btn btn-warning">
                        <i class="fas fa-edit"></i> Edit
                    </a>

                    <!-- Delete Button with Form (POST Request) -->
                    @using (Html.BeginForm("DeleteUser", "UserPanel", FormMethod.Post,
                        new { onsubmit = "return confirm('Are you sure you want to delete this user?');" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.Hidden("UserID", Model.UserID)

                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-trash-alt"></i> Delete
                        </button>
                    }

                    <!-- Back to List Button -->
                    <a href="@Url.Action("Index", "UserPanel")" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Back to List
                    </a>
                </div>

            </div>
        </div>
    </div>
</div>
